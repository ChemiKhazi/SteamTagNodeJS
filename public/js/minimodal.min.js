(function(e){function t(n,r){var i=e(n);var s=i.parent();if(s.attr("rel")!="modal-root")return;if(r.fade){e(n).parent().animate({opacity:0},{duration:r.duration,complete:function(){t(n,{fade:false})}});return}e("body").append(i);i.hide();s.remove()}e.fn.minimodal=function(n){var r=e.extend({clickClose:false,close:false,fade:false,duration:100,color:"#000",opacity:.65},n);if(r.close){t(this,r);return this}var i=e("<div/>").attr("rel","modal-root").css({position:"fixed",top:"50%",left:"50%",width:"100%",height:"100%"});var s=e("<div/>").css({position:"absolute",top:"-50%",left:"-50%",width:"100%",height:"100%","background-color":r.color,opacity:r.opacity});this.css({display:"block",position:"absolute"});if(r.width===undefined){this.css({left:-(this.width()/2)})}else{this.css({left:-(r.width/2),width:r.width})}if(r.height===undefined){this.css({top:-(this.height()/2)})}else{this.css({top:-(r.height/2),height:r.height})}if(r.clickClose){s.click({object:this,opts:r},function(e){t(e.data.object,e.data.opts)})}if(r.fade){i.css({opacity:0});i.animate({opacity:1},r.duration)}e("body").append(i.append(s).append(this));return this};})(jQuery)
